{% extends 'base.html' %}
{% load static %}

{% block title %}撮影登録 | ToolKeeper{% endblock %}

{% block active_asset_list %}active{% endblock %}

{% block contents %}
<div class="container my-5">
    <div class="row justify-content-around mt-4" id="checked" style="display: none;">
        <h3 class="col-12 col-md-9" style="text-align: center; margin-top: 0.5rem;">アイテムが全て入るよう、外枠を囲ってください。</h3>
        <button class="col-6 col-md-2 btn btn-3 my-2 my-md-auto" type="button" id="load">画像読込</button>

        <hr class="my-3">
    </div>

    <div id="preview" style="position: relative; width: 100%; margin: auto;">
        <canvas id="canvas" style="display: none;"></canvas>
        <video id="movie" controls autoplay loop style="display: none;"></video>
        <img id="image" src="{{ image.url }}" style="display: none;"/>
    </div>

    <div class="my-check row w-50 mt-4 mb-5 mx-auto" id="control" style="display: none;">
        <input class="btn-check d-none" type="checkbox" id="check" disabled>
        <label class="btn my-btn-common my-check-red" for="check" onclick="del_box(); auto_fit();">外枠をリセット</label>
    </div>
    
    <div class="row">
        <form method="POST" enctype='multipart/form-data'>
            {% csrf_token %}
            <table class="table">
                {{ image_add_form.as_table }}
                {{ item_add_form.as_table }}
                {{ result_add_form.as_table }}
            </table>
            <button class="btn btn-3 w-100 mt-3" type="submit" id="submit" disabled>{{ submit }}</button>
        </form>
    </div>
    
</div>
{% endblock %}


{% block js %}
<script src="{% static 'js/image_add.js' %}"></script>
{% endblock %}
